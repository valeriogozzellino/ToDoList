<!DOCTYPE html>
<html>
  <head>
    <meta />
    <title>ToDoList</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <main id="main">
      <div class="bodygroup">
        <div id="titleapp">
          <h3>To Do List</h3>
        </div>
        <div id="bar_insert">
          <input id="inputText" type="text" placeholder="Name..." />
          <button
            class="inputButton"
            id="button_add"
            type="button"
            value="Add Item"
          >
            Add Item
          </button>
        </div>
      </div>
      <div class="second_part">
        <div id="insertlist">
          <div class="elementlist">
            <div id="textlist"></div>
            <div id="icons"></div>
          </div>
        </div>
        <!--modificare lo stile di questi blocchi che vengono creati con un display flex -->
        <div id="bottom_section">
          <button type="button" class="inputButton" , id="button_clear">
            Clear Items
          </button>
        </div>
      </div>
    </main>

    <script>
      const submit = document.getElementById("button_add");
      const enter_press = document.getElementById("inputText");
      const TaskHandlerBottom = (e) => {
        const input = document.getElementById("inputText");
        //input.addEventListener("keypress", (e) => {});
        const todo = document.getElementById("insertlist");
        const el_list = document.createElement("div");

        el_list.classList.add("elementlist");
        el_list.appendChild(document.createElement("div")); //creo elementi nel nodo
        el_list.appendChild(document.createElement("div"));
        el_list.children[0].classList.add("textlist");
        el_list.children[0].textContent = input.value;
        el_list.children[1].classList.add("icons");
        el_list.children[1].appendChild(document.createElement("button"));
        el_list.children[1].children[0].textContent = "remove";

        console.log(el_list);

        todo.prepend(el_list);
        input.value = "";
        //gestione dell'evento con invio
      };
      // enter_press.addEventListener("Keypress", (e) => {
      //   if (e.keyup === "Enter") {
      //     TaskHandlerBottom(e);
      //     console.log("in press enter");
      //   }
      // });
      submit.addEventListener("click", TaskHandlerBottom);
      console.log("i'm in");
      const remove = document.getElementById("button_clear");

      const TaskRemoveButton = () => {
        const removeAll = document.getElementsByClassName("insertlist");
        remove.removeAttribute("class");
      };
      remove.addEventListener("click", TaskRemoveButton);
    </script>
  </body>
</html>
